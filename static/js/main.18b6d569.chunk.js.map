{"version":3,"sources":["components/PostsList/post.jsx","api/api.js","api/posts.js","components/PostsList/PostsList.jsx","api/comments.js","components/NewCommentForm/input.jsx","components/NewCommentForm/textArea.jsx","components/NewCommentForm/NewCommentForm.jsx","components/PostDetails/comment.jsx","components/PostDetails/PostDetails.jsx","api/users.js","App.jsx","index.js"],"names":["Post","post","handlePostId","isOpen","userId","title","id","className","type","value","onClick","event","target","request","url","option","a","fetch","result","ok","Error","status","statusText","json","getUserPosts","posts","data","filter","getPostDetails","postId","PostsList","selectedUser","selectedPostId","useState","setPosts","useEffect","response","fetchData","map","key","getPostComments","comments","comment","deleteComment","commentId","method","postComment","headers","body","JSON","stringify","Input","name","setState","placeholder","onChange","TextArea","NewCommentForm","addComent","setName","email","setEmail","setBody","handleSubmit","preventDefault","includes","onSubmit","Comment","handleDelete","PostDetails","postDetails","setPostDetails","postComments","setPostComments","isVisible","setIsVisible","changedComments","length","preparedUsers","user","App","users","setUsers","setSelectedUser","setSelectedPostId","index","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.18b6d569.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Post = ({ post, handlePostId, isOpen }) => {\n  const {\n    userId,\n    title,\n    id,\n  } = post;\n\n  const handleOpen = (event) => {\n    const { value } = event.target;\n\n    handlePostId(value, isOpen);\n  };\n\n  return (\n    <li className=\"PostsList__item\">\n      <div>\n        <b>\n          {`[User: # ${userId} ]:`}\n        </b>\n        <strong>\n          {title}\n        </strong>\n      </div>\n      <button\n        type=\"button\"\n        value={id}\n        className=\"PostsList__button button\"\n        onClick={handleOpen}\n      >\n        {isOpen ? 'Close' : 'Open'}\n      </button>\n    </li>\n  );\n};\n\nPost.propTypes = {\n  post: PropTypes.shape({\n    userId: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  }).isRequired,\n  handlePostId: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n};\n","export const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport const request = async(url, option) => {\n  const result = await fetch(`${BASE_URL}${url}`, option);\n\n  if (!result.ok) {\n    throw new Error(`${result.status} - ${result.statusText}`);\n  }\n\n  return result.json();\n};\n\nexport const remove = url => request(url, { method: 'DELETE' });\n\nexport const post = (url, data) => (\n  request(url, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json; charset=utf-8',\n    },\n    body: JSON.stringify(data),\n  })\n);\n","import { request } from './api';\n\nconst POSTS_URL = '/posts';\n\nexport const getUserPosts = async(userId) => {\n  const posts = await request(POSTS_URL);\n\n  return (+userId !== 0)\n    ? posts.data.filter(post => +userId === post.userId)\n    : posts.data;\n};\n\nexport const getPostDetails = async(postId) => {\n  const post = await request(`${POSTS_URL}/${postId}`);\n\n  return post.data;\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Post } from './post';\nimport { getUserPosts } from '../../api/posts';\nimport './PostsList.scss';\n\nexport const PostsList = ({ selectedUser, handlePostId, selectedPostId }) => {\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await getUserPosts(selectedUser);\n\n      setPosts(response);\n    }\n\n    fetchData();\n  }, [selectedUser]);\n\n  return (\n    <div className=\"PostsList\">\n      <h2>Posts:</h2>\n\n      <ul className=\"PostsList__list\">\n        {posts.map(post => (\n          <Post\n            post={post}\n            key={post.id}\n            handlePostId={handlePostId}\n            isOpen={+selectedPostId === post.id }\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nPostsList.propTypes = {\n  selectedUser: PropTypes.string.isRequired,\n  handlePostId: PropTypes.func.isRequired,\n  selectedPostId: PropTypes.string.isRequired,\n};\n","import { request, remove, post } from './api';\n\nexport const COMMENTS_URL = '/comments';\n\nexport const getPostComments = async(postId) => {\n  const comments = await request(COMMENTS_URL);\n\n  return comments.data.filter(comment => +postId === comment.postId);\n};\n\nexport const deleteComment = commentId => (\n  remove(`${COMMENTS_URL}/${commentId}`)\n);\n\nexport const postComment = async comment => post(COMMENTS_URL, comment);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Input = ({ name, value, setState }) => (\n  <input\n    type=\"text\"\n    name={name}\n    value={value}\n    placeholder={`Your ${name}`}\n    className=\"NewCommentForm__input\"\n    onChange={event => setState(event.target.value)}\n  />\n);\n\nInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  setState: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const TextArea = ({ name, value, setState }) => (\n  <textarea\n    name={name}\n    value={value}\n    placeholder=\"Type comment here\"\n    className=\"NewCommentForm__input\"\n    onChange={event => setState(event.target.value)}\n  />\n);\n\nTextArea.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  setState: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { postComment } from '../../api/comments';\nimport { Input } from './input';\nimport { TextArea } from './textArea';\nimport './NewCommentForm.scss';\n\nexport const NewCommentForm = ({ postId, addComent }) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [body, setBody] = useState('');\n\n  const handleSubmit = async(event) => {\n    event.preventDefault();\n\n    if (!name || !email.includes('@') || !body) {\n      return;\n    }\n\n    const comment = {\n      postId,\n      name,\n      email,\n      body,\n    };\n\n    const response = await postComment(comment);\n\n    addComent(response.data);\n\n    setName('');\n    setEmail('');\n    setBody('');\n  };\n\n  return (\n    <form\n      className=\"NewCommentForm\"\n      onSubmit={handleSubmit}\n    >\n      <div className=\"form-field\">\n        <Input\n          name=\"name\"\n          value={name}\n          setState={setName}\n\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <Input\n          name=\"email\"\n          value={email}\n          setState={setEmail}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <TextArea\n          name=\"body\"\n          value={body}\n          setState={setBody}\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"NewCommentForm__submit-button button\"\n      >\n        Add a comment\n      </button>\n    </form>\n  );\n};\n\nNewCommentForm.propTypes = {\n  postId: PropTypes.string.isRequired,\n  addComent: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Comment = ({ comment, handleDelete }) => {\n  return (\n    <li className=\"PostDetails__list-item\">\n      <button\n        type=\"button\"\n        className=\"PostDetails__remove-button button\"\n        onClick={() => handleDelete(comment.id)}\n      >\n        X\n      </button>\n      <p>{comment.body}</p>\n    </li>\n  );\n};\n\nComment.propTypes = {\n  comment: PropTypes.shape({\n    body: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  }).isRequired,\n  handleDelete: PropTypes.func.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { NewCommentForm } from '../NewCommentForm';\nimport { getPostDetails } from '../../api/posts';\nimport { getPostComments, deleteComment } from '../../api/comments';\nimport { Comment } from './comment';\nimport './PostDetails.scss';\n\nexport const PostDetails = ({ selectedPostId }) => {\n  const [postDetails, setPostDetails] = useState({});\n  const [postComments, setPostComments] = useState([]);\n  const [isVisible, setIsVisible] = useState(true);\n\n  const addComent = (comment) => {\n    const changedComments = [...postComments, comment];\n\n    setPostComments(changedComments);\n  };\n\n  const handleDelete = async(commentId) => {\n    await deleteComment(commentId);\n    const changedComments = postComments\n      .filter(comment => comment.id !== +commentId);\n\n    setPostComments(changedComments);\n  };\n\n  const handleVisible = () => {\n    setIsVisible(!isVisible);\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      const post = await getPostDetails(selectedPostId);\n      const comments = await getPostComments(selectedPostId);\n\n      setPostDetails(post);\n      setPostComments(comments);\n    }\n\n    fetchData();\n  }, [selectedPostId]);\n\n  return (\n    <div className=\"PostDetails\">\n      <h2>Post details:</h2>\n\n      <section className=\"PostDetails__post\">\n        <p>{postDetails.body}</p>\n      </section>\n\n      <section className=\"PostDetails__comments\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={handleVisible}\n        >\n          {`${isVisible ? 'Hide' : 'Show'} ${postComments.length} comments`}\n        </button>\n\n        {isVisible && (\n          <ul className=\"PostDetails__list\">\n            {postComments.map(comment => (\n              <Comment\n                comment={comment}\n                key={comment.id}\n                handleDelete={handleDelete}\n              />\n            ))}\n          </ul>\n        )}\n\n      </section>\n\n      <section>\n        <div className=\"PostDetails__form-wrapper\">\n          <NewCommentForm\n            postId={selectedPostId}\n            addComent={addComent}\n          />\n        </div>\n      </section>\n    </div>\n  );\n};\n\nPostDetails.propTypes = {\n  selectedPostId: PropTypes.string.isRequired,\n};\n","\nimport { request } from './api';\n\nexport const USERS_URL = '/users';\n\nexport async function fetchData(setState) {\n  const response = await request(USERS_URL);\n  const preparedUsers = response.data\n    .filter(user => user.name);\n\n  setState(preparedUsers);\n}\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\nimport { fetchData } from './api/users';\n\nexport const USERS_URL = '/users';\n\nconst App = () => {\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState('0');\n  const [selectedPostId, setSelectedPostId] = useState('');\n\n  useEffect(() => {\n    fetchData(setUsers);\n  }, []);\n\n  const userSelect = (event) => {\n    const { value } = event.target;\n\n    setSelectedUser(value);\n  };\n\n  const handlePostId = (id, isOpen) => {\n    !isOpen ? setSelectedPostId(id) : setSelectedPostId('');\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <label>\n          Select a user: &nbsp;\n\n          <select\n            className=\"App__user-selector\"\n            value={selectedUser}\n            onChange={userSelect}\n          >\n            <option value=\"0\">All users</option>\n            {users.map((user, index) => (\n              <option\n                key={user.id}\n                value={user.id}\n              >\n                {user.name}\n              </option>\n            ))\n            }\n          </select>\n        </label>\n      </header>\n\n      <main className=\"App__main\">\n        <div className=\"App__sidebar\">\n          <PostsList\n            selectedUser={selectedUser}\n            handlePostId={handlePostId}\n            selectedPostId={selectedPostId}\n          />\n        </div>\n\n        {selectedPostId && (\n          <div className=\"App__content\">\n            <PostDetails\n              selectedPostId={selectedPostId}\n            />\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}